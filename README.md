
# **MuddyWaterSimplifyAI：AI文本简化与智能处理系统**  
**专注中文文本优化，助力高效语义传递**  


## **一、系统概述**  
MuddyWaterSimplifyAI 是一款基于深度学习的中文文本处理工具，依托 **PaddlePaddle-GPU** 框架（CUDA 11.2 + cuDNN 8.9）构建，包含 **文本智能分割**、**片段处理与标点恢复**、**组优化算法修复**三大核心模块。本次开源 **2个轻量级版本**（参数规模 30W-40W），专注于**语义保留**与**表达精简**，适用于 NLP 预处理、语音合成、长文本结构化等场景。


## **二、核心模块解析**  

### **模块一：智能文本分割算法（split_text_v3）**  
**功能**：将长文本切分为符合模型输入要求的短片段（≤122字），兼顾语义完整与标点逻辑。  
#### **三级处理机制**  
1. **基础分割阶段**  
   - **字符类型判断**：  
     - 不分割字符（如“、”）直接合并至当前片段；  
     - 优先分割字符（。！？；∶!?;）强制断句，创建新片段。  
   - **长度超限处理**：  
     - 超过 `max_seq_len=122` 时，逆向查找最近标点（优先/次要分割符）；无标点则强制截断。  
2. **合并短片段阶段**  
   - 合并相邻短片段（合并后 ≤122字），减少片段总数，提升处理效率。  
3. **强制长度限制阶段**  
   - 严格限制片段长度 ≤50字，通过标点查找或直接截断确保合规。  

**优势**：基于标点符号动态分割，避免断句歧义，平衡语义完整性与模型输入限制。


### **模块二：片段处理与标点恢复（process_segments_v3）**  
**功能**：清洗文本片段、调用模型处理，并精准恢复原始标点逻辑。  
#### **处理流程**  
1. **标点提取与缓存**  
   - 提取片段结尾标点（如。！？，），存入 `punctuation_stack` 用于后续恢复。  
2. **文本清洗与模型推理**  
   - 预处理：删除开头无效标点（如连续“，。、”）；  
   - 模型处理：通过 `Chinesetoid` 和 `get_second` 函数生成优化文本。  
3. **标点恢复与逻辑调整**  
   - 去除模型生成的结尾标点，还原缓存的原始标点；无标点则以“，”结尾（最后一段统一为“。”）。  
4. **后处理与合并**  
   - 合并片段，统一结尾标点为“。”，确保文本完整性。  

**亮点**：通过“缓存-恢复”机制100%保留原始标点逻辑，提升生成文本准确性。


### **模块三：组优化算法（AI回复文本修复）**  
**功能**：比对原始文本与简化文本，修复重复、缺失、标点错误等问题，输出通顺完整的结果。  
#### **核心流程**  
1. **预处理阶段**  
   - 调用 `remove_consecutive_duplicates` 去除连续重复字符（如“新新好玩”→“新好玩”）。  
2. **差异比对阶段**  
   - 使用 `difflib.SequenceMatcher` 分析差异：  
     - **相同部分**：直接保留；  
     - **替换部分**：短内容补充原始文本词首/词尾（如“车”→“汽车”）；  
     - **删除部分**：恢复关键单字（如“他走了”→“他走了”，避免漏“了”）；  
     - **插入部分**：忽略冗余内容。  
3. **后处理阶段**  
   - 调用 `remove_duplicate_punctuation` 去除重复标点（如“!!”→“!”）。  

**核心函数表**  
| 函数名                  | 功能描述                                                                 |  
|-------------------------|--------------------------------------------------------------------------|  
| `remove_consecutive_duplicates` | 去除连续重复字符，保留首个出现的字符。                                   |  
| `remove_duplicate_punctuation`   | 通过正则表达式过滤连续标点，仅保留第一个。                               |  
| `fix_text`              | 整合预处理、比对、后处理，实现完整文本修复流程。                         |  


## **三、核心优势与应用场景**  
### **核心优势**  
1. **语义优先**：基于标点符号分割，最大程度保留句子完整性，杜绝断句歧义。  
2. **动态控长**：通过 `max_seq_len` 与 `hard_max_len` 双重限制，灵活适配不同模型输入要求。  
3. **标点保真**：独创标点缓存机制，确保原始逻辑零丢失，生成文本与原文高度一致。  
4. **智能修复**：组优化算法精准识别重复、缺失问题，修复后文本通顺度提升30%+。  

### **典型应用场景**  
- **NLP模型预处理**：文本生成、翻译、摘要任务的输入优化；  
- **语音合成断句**：为TTS系统提供自然流畅的语义片段；  
- **长文本结构化**：新闻、报告、学术论文的分段与关键信息提取；  
- **多轮对话优化**：智能客服、聊天机器人的回复精简与逻辑修复。  


## **四、开源说明与技术支持**  
- **版本支持**：当前开源版本仅支持中文，后续将拓展多语言能力；  
- **部署要求**：建议配置 NVIDIA GPU（CUDA 11.2+），支持 CPU 推理（性能略降）；  
- **获取方式**：访问 [Gitee 代码仓库](待补充链接) 或 [GitHub 项目页](待补充链接)；  
- **技术交流**：欢迎通过邮件（3045358367@qq.com）反馈问题。  

**让复杂文本更简洁，让语义传递更高效——MuddyWaterSimplifyAI，重新定义文本处理！**  

